<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <meta content="" name="description" />
  <meta content="" name="author" />
  <link href="images/favicon/favicon.ico" rel="shortcut icon" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="57x57" href="images/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="images/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="images/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="images/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="images/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="images/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="images/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="images/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="images/favicon/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="images/favicon/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon/favicon-16x16.png">
  <link rel="manifest" href="images/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="images/favicon/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">
  <title>Aprentio</title>
  <!-- Bootstrap -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!--DateTimePicker -->
  <link href="css/bootstrap-datetimepicker.css" rel="stylesheet">

  <!-- Styles -->
  <link href="less/styles.css" rel="stylesheet">

  <!--Fonts -->
  <link href="css/fonts.css" rel="stylesheet">
</head>
<body>
<style>
    #preloader {position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff;z-index:999999;}
    #status {width:207px;height:207px;position:absolute;left:50%;top:50%;background-image:url(images/loading2.gif);background-repeat:no-repeat;background-position:center top;margin:-105px 0 0 -105px;}
</style>
<div id="preloader"><div id="status"></div></div>
    <div id="menu-content"></div>
    <div class="separator">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            Perfil
          </div>
        </div>
      </div>
    </div>
    <section id="profesor-result">
      <div class="container">
          <div class="row">
            <div class="col-md-8 text-left">
              <div class="profesor-details shadow">
               <ul class="list-inline">
                 <li>
                   <img src="images/ejemplos/prof_2.jpg" alt="..." class="img-circle img">
                 </li>
                 <li class="nom-mat">
                   <div class="nombre">Sofía Lopez</div>
                   <div class="materia highlight">Lengua<span class="icon-subject-language"></span></div>
                 </li>
                 <li class="estrellas-content">
                   <div class="datos-estrellas">
                      <ul class="list-inline">
                        <li><span class="glyphicon glyphicon-star full"></span></li>
                        <li><span class="glyphicon glyphicon-star full"></span></li>
                        <li><span class="glyphicon glyphicon-star full"></span></li>
                        <li><span class="glyphicon glyphicon-star"></span></li>
                        <li><span class="glyphicon glyphicon-star"></span></li>
                      </ul>
                    </div>
                 </li>
               </ul>
               <ul class="list-inline detail">
                 <li>
                   <span class="icon-location"></span>Haedo, Buenos Aires
                 </li>
                 <li>
                   <span class="icon-watch"></span>Lunes a Viernes
                 </li>
               </ul>
              <div class="text-center boton visible-xs">
                <button type="submit" class="btn btn-aprentio btn-reservar">Reservar</button>
              </div>
               <div class="info">
                   <div>
                       <!-- Nav tabs -->
                       <ul class="nav nav-tabs nav-justified aprentio-tabs" role="tablist">
                           <li role="presentation" class="active"><a href="#info" aria-controls="info" role="tab" data-toggle="tab">Información Académica</a></li>
                           <li role="presentation"><a href="#subjects" aria-controls="subjects" role="tab" data-toggle="tab">Materias</a></li>
                           <li role="presentation"><a href="#place" aria-controls="place" role="tab" data-toggle="tab">Ubicación</a></li>
                       </ul>

                       <!-- Tab panes -->
                       <div class="tab-content">
                           <div role="tabpanel" class="tab-pane active" id="info">
                               <ul class="info-text materias-list">
                                   <li>Licenciada en Lenguas</li>
                                   <li>Universidad UBA</li>
                                   <li>Profesora/Jefa Cátedra en UBA</li>
                               </ul>
                           </div>
                           <div role="tabpanel" class="tab-pane" id="subjects">
                               <ul class="info-text materias-list">
                                   <li>Lengua Primario y Secundario</li>
                                   <li>Lengua y Literatura. Nivel Facultad</li>
                                   <li>Lengua Catellana y Literatura</li>
                               </ul>
                           </div>
                           <div role="tabpanel" class="tab-pane" id="place">
                               <div>
                                   <img src="images/ejemplos/mapa_ex.png" class="img-responsive" style="margin: 0 auto;">
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
              </div>
            </div>
            <div class="col-md-4 text-left hidden-xs">
               <div class="profesor-book shadow">
                <div class="precio">
                    <h3>Grupal $250</h3>
                    <h3>Individual $250</h3>
                </div>
                <div class="text-center boton">
                  <button type="submit" class="btn btn-aprentio btn-reservar">Reservar</button>
                </div>
                <div class="metodos-pago">
                  <p>Metodos de pago</p>
                  <p>En efectivo en puntos de pago</p>
                  <!--<small>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus vitae interdum ligula. Mauris nisi mi, venenatis pellentesque sapien non, suscipit laoreet risus.</small>-->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <div id="footer-content"></div>

    <script src="js/jquery.min.js"></script>
    <script src="js/less.js" type="text/javascript"></script>

    <script type="text/javascript" src="js/moment.js"></script>

    <!-- Bootstrap -->
    <script src="js/bootstrap.min.js"></script>

    <!--DateTimePicker -->
    <script src="js/bootstrap-datetimepicker.js"></script>

    <!--Bootbox -->
    <script src="js/bootbox.min.js"></script>

    <script src="js/models/subjects.js"></script>
    <script src="js/models/professors.js"></script>
    <script src="js/models/users.js"></script>
    <script src="js/controllers/users.js"></script>
    <script src="js/controllers/subjects.js"></script>
    <script src="js/controllers/professors.js"></script>

    <script>
        var urlParams;

        (window.onpopstate = function () {
            var match,
                pl     = /\+/g,  // Regex for replacing addition symbol with a space
                search = /([^&=]+)=?([^&]*)/g,
                decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
                query  = window.location.search.substring(1);

            urlParams = {};
            while (match = search.exec(query))
                urlParams[decode(match[1])] = decode(match[2]);
        })();

        console.log(urlParams);

        $(document).ready(function() {
            $(window).bind("load", function () {
                $("#status").fadeOut();
                $("#preloader").delay(450).fadeOut("slow");
            });

            $('#menu-content').load('includes/menu.html');
            $('#footer-content').load('includes/footer.html');

            $('.btn-reservar').on( 'click', function(e) {
                e.preventDefault();
                var modal_reserva = bootbox.dialog({
                    title: "",
                    onEscape: true,
                    message:
                    '<div class="content">' +
                    '<ul class="nav nav-tabs nav-justified opts" role="tablist">' +
                    '<li class="active part1">' +
                    '<a href="#part1" aria-controls="home" role="tab" data-toggle="tab">' +
                    '<span class="highlight">1.</span> Reserva</a>' +
                    '</li>' +
                    '<li class="disabled part2">' +
                    '<a href="#part2" aria-controls="home" role="tab" data-toggle=""><span class="highlight">2.</span> Confirma</a>' +
                    '</li>' +
                    '</ul>' +
                    '<div class="tab-content">' +
                    '<div role="tabpanel" class="tab-pane active" id="part1">' +
                    '<form>' +
                    '<div class="form-group">' +
                    '<label>Precio</label>' +
                    '<select class="form-control">' +
                    '<option>Clase Grupal($150)</option>' +
                    '<option>Clase Individual($250)</option>' +
                    '</select>' +
                    '</div>' +
                    '<div class="form-group">' +
                    '<label>Elige un día</label>' +
                    '<input type="text" class="form-control" id="datetimepicker" />' +
                    '</div>' +
                    '<div class="form-group">' +
                    '<label>Elige un horario</label>' +
                    '<select class="form-control">' +
                    '<option>12.30hs</option>' +
                    '<option>13.00hs</option>' +
                    '<option>13.00hs</option>' +
                    '<option>17.00hs</option>' +
                    '<option>17.30hs</option>' +
                    '</select>' +
                    '</div>' +
                    '<div style="margin-top: 10px;margin-bottom: 15px;text-align: center">' +
                    '<button type="submit" class="btn btn-aprentio" id="btn-sig">SIGUIENTE</button>' +
                    '</div>' +
                    '</form>' +
                    '</div>' +
                    '<div role="tabpanel" class="tab-pane" id="part2" disabled>' +
                    '<form>' +
                    '<div class="form-group" style="padding: 20px 0px">' +
                    '<label style="font-weight: 400">Desea confirmar esta clase en el dia xx/xx y horario xxx?</label>' +
                    '</div>' +
                    '<div style="margin-top: 10px;margin-bottom: 15px;text-align: center">' +
                    '<button type="submit" class="btn btn-aprentio" id="btn-confirm">CONFIRMAR</button>' +
                    '</div>' +
                    '</form>' +
                    '</div>' +
                    '</div>' +
                    '</div>',
                    buttons: false
                });
                modal_reserva.addClass("modal-aprentio modal-reserva");
            });

            $( '#btn-confirm' ).on( 'click', function(e) {
                e.preventDefault();
                var modal_confirmacion = bootbox.alert({
                    title: "&nbsp;",
                    message: '<div style="text-align: center">Su clase ha sido reservada con éxito.</div>',
                    className: 'modal-aprentio'
                });
            });

            $(document).on("shown.bs.modal", function() {

                $("#datetimepicker").datetimepicker({
                    format: "DD-MM-YYYY"
                });

                $('#btn-sig').click(function(e){
                    e.preventDefault()
                    $('#part2').show();
                    $('#part1').hide();
                    $('.part2').addClass('active');
                    $('.part1').removeClass('active');
                    $('#part1').removeClass('active');
                })
            });

            _getProfessorByID(urlParams);
        });
    </script>
  </body>
</html>